@page
@model IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "CryptoScout";
}

<!-- Bootstrap Icons (for the GitHub icon) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<!-- Local styles -->
<link rel="stylesheet" href="~/css/Index.css" asp-append-version="true" />

<div class="bg-effects" aria-hidden="true"></div>

<section class="wrap">
  <div class="topbar">
    <div class="brand">
      <h1>CryptoScout</h1>
      <p>Top 100 prices (USD) cached every 30 minutes. Generate AI picks, then chat about them. Not financial advice.</p>
    </div>
    <a class="source" href="https://github.com/RayanBhatti/CryptoScout" target="_blank" rel="noopener" title="View source on GitHub">
      <i class="bi bi-github" aria-hidden="true" style="font-size:18px;line-height:1"></i>
      <span>Source</span>
    </a>
  </div>

  <div class="grid">
    <!-- Left: Prices table -->
    <div class="card">
      <div class="section-head">
        <div class="controls">
          <input id="q" class="input" placeholder="Filter by name/symbol…" aria-label="Filter coins" />
        </div>
        <div class="controls">
          <button id="refresh" class="btn">Refresh</button>
          <button id="genReco" class="btn btn-green">Generate AI Shortlist</button>
        </div>
      </div>

      <div class="table-wrap">
        <table id="grid" aria-label="Top 100 crypto table">
          <thead>
            <tr>
              <th>#</th>
              <th>Coin</th>
              <th class="num">Price</th>
              <th class="num">1y %</th>
              <th class="num">1y</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <div class="section-head" style="border-top:1px solid var(--border); border-bottom: none;">
        <span id="pageInfo" class="meta"></span>
        <div class="controls">
          <button id="prev" class="btn">Previous</button>
          <button id="next" class="btn">Next</button>
        </div>
      </div>
    </div>

    <!-- Right: Chat -->
    <div class="card" style="display:flex; flex-direction:column;">
      <div class="section-head" style="justify-content:flex-start; gap:.75rem;">
        <span style="font-weight:600;">Chat about the latest picks</span>
      </div>
      <div id="chatLog" aria-live="polite"></div>
      <div class="chatInput">
        <label for="chatInput" class="sr">Message</label>
        <textarea id="chatInput" rows="2" placeholder="Ask about the picks… (e.g., Why SOL over ETH?)"></textarea>
        <button id="sendChat" class="btn">Send</button>
      </div>
    </div>
  </div>
</section>

<!-- Local script -->
<script src="~/js/Index.js" asp-append-version="true"></script>
